!function(){const e=()=>{const e=document.createElement("style");e.innerHTML=".modern-img-slider-wrapper{position:relative;margin:40px 0;width:100%;-webkit-mask-image:linear-gradient(90deg,transparent 0,#000 10%,#000 90%,transparent 100%);mask-image:linear-gradient(90deg,transparent 0,#000 10%,#000 90%,transparent 100%)}.modern-img-slider{display:flex;gap:15px;overflow-x:auto;scroll-snap-type:x mandatory;padding:10px 10%;-ms-overflow-style:none;scrollbar-width:none;direction:rtl;scroll-behavior:smooth}.modern-img-slider::-webkit-scrollbar{display:none}.modern-slide{flex:0 0 85%;scroll-snap-align:center;cursor:pointer;transition:transform .3s ease}.modern-slide:active{transform:scale(.97)}.modern-slide img{width:100%;height:250px;object-fit:cover;border-radius:24px;box-shadow:0 10px 30px rgba(0,0,0,.15);pointer-events:none}.modern-single-img{width:100%;border-radius:24px;object-fit:cover;box-shadow:0 10px 30px rgba(0,0,0,.15);margin:30px 0;cursor:pointer;transition:transform .3s ease}.modern-single-img:active{transform:scale(.97)}#lux-lightbox{position:fixed;inset:0;z-index:999999999;background:rgba(5,5,5,.95);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .4s cubic-bezier(.25,1,.5,1),visibility .4s;direction:rtl}#lux-lightbox.active{opacity:1;visibility:visible}.lux-lb-content{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;transform:scale(.9);transition:transform .5s cubic-bezier(.175,.885,.32,1.275)}#lux-lightbox.active .lux-lb-content{transform:scale(1)}.lux-lb-img{max-width:95%;max-height:85vh;object-fit:contain;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.6);user-select:none;transition:opacity .3s ease}.lux-close{position:absolute;top:30px;right:30px;width:45px;height:45px;background:rgba(255,255,255,.1);color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:50%;display:grid;place-items:center;font-size:1.5rem;cursor:pointer;z-index:10;transition:all .3s}.lux-close:hover{background:#fff;color:#000;transform:rotate(90deg)}.lux-counter{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);color:rgba(255,255,255,.8);font-family:var(--font-body,sans-serif);font-size:1.1rem;letter-spacing:2px;background:rgba(0,0,0,.5);padding:8px 20px;border-radius:50px;border:1px solid rgba(255,255,255,.1)}.lux-nav{position:absolute;top:50%;transform:translateY(-50%);width:50px;height:50px;background:rgba(255,255,255,.05);color:#fff;border:none;border-radius:50%;font-size:1.5rem;cursor:pointer;z-index:10;transition:all .3s;display:grid;place-items:center}.lux-nav:hover{background:rgba(255,255,255,.2);transform:translateY(-50%) scale(1.1)}.lux-prev{right:20px}.lux-next{left:20px}@media(max-width:768px){.lux-nav{display:none}.lux-close{top:20px;right:20px}}",document.head.appendChild(e)};let t=[],n=0,o,i,c,r=0,s=0;const a=()=>{o=document.createElement("div"),o.id="lux-lightbox",o.innerHTML='<button class="lux-close"><i class="fas fa-times"></i></button><button class="lux-nav lux-prev"><i class="fas fa-chevron-right"></i></button><div class="lux-lb-content"><img src="" class="lux-lb-img" id="lux-main-img" alt="Gallery"></div><button class="lux-nav lux-next"><i class="fas fa-chevron-left"></i></button><div class="lux-counter"></div>',document.body.appendChild(o),i=document.getElementById("lux-main-img"),c=o.querySelector(".lux-counter"),o.querySelector(".lux-close").addEventListener("click",x),o.querySelector(".lux-prev").addEventListener("click",e=>{e.stopPropagation(),m()}),o.querySelector(".lux-next").addEventListener("click",e=>{e.stopPropagation(),u()}),o.addEventListener("click",e=>{e.target!==o&&!e.target.classList.contains("lux-lb-content")||x()});const e=o.querySelector(".lux-lb-content");e.addEventListener("touchstart",e=>r=e.changedTouches[0].screenX,{passive:!0}),e.addEventListener("touchend",e=>{s=e.changedTouches[0].screenX,l()},{passive:!0})},l=()=>{s<r-50&&u(),s>r+50&&m()},d=(e,o)=>{t=e,n=o,p(),lbO.classList.add("active"),window.history.pushState({luxLightbox:!0},"")},x=(e=!0)=>{o.classList.remove("active"),e&&window.history.state&&window.history.state.luxLightbox&&window.history.back()},p=()=>{i.style.opacity="0",setTimeout(()=>{i.src=t[n],i.style.opacity="1"},150),t.length>1?(c.style.display="block",o.querySelector(".lux-prev").style.display="grid",o.querySelector(".lux-next").style.display="grid",c.innerText=`${f(n+1)} / ${f(t.length)}`):(c.style.display="none",o.querySelector(".lux-prev").style.display="none",o.querySelector(".lux-next").style.display="none")},u=()=>{n=(n+1)%t.length,p()},m=()=>{n=(n-1+t.length)%t.length,p()},f=e=>{const t=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"];return e.toString().replace(/\d/g,e=>t[e])},b=()=>{document.querySelectorAll(".post-body").forEach(e=>{const t=Array.from(e.querySelectorAll("img"));if(0===t.length)return;const n=t.map(e=>e.src);if(1===t.length){const e=t[0];e.className="modern-single-img",e.addEventListener("click",()=>d(n,0))}else{const o=document.createElement("div");o.className="modern-img-slider-wrapper";const i=document.createElement("div");i.className="modern-img-slider",t.forEach((e,t)=>{const c=document.createElement("div");c.className="modern-slide";const r=document.createElement("img");r.src=e.src,c.appendChild(r),i.appendChild(c),c.addEventListener("click",()=>d(n,t)),e.remove()}),o.appendChild(i),e.appendChild(o)}})};window.addEventListener("DOMContentLoaded",()=>{e(),a(),b(),window.addEventListener("popstate",e=>{o.classList.contains("active")&&x(!1)})})}();
